// Mock file system for development
const mockFiles = {
  'index.md': `# Ð“Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°

Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² WebDAV Bookmarks!

## Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ ÑÑÑ‹Ð»ÐºÐ¸

- [[ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹]]
- [[Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ]]
- [[ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸]]

## ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ

- Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ñ‚ÐµÐ¼Ð½Ð¾Ð¹ Ñ‚ÐµÐ¼Ñ‹
- Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð° Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ Ñ Ñ…Ð»ÐµÐ±Ð½Ñ‹Ð¼Ð¸ ÐºÑ€Ð¾ÑˆÐºÐ°Ð¼Ð¸
- Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ wiki-ÑÑÑ‹Ð»ÐºÐ°Ð¼Ð¸

## ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ

1. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð½Ð° Ð¸ÐºÐ¾Ð½ÐºÑƒ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº (ðŸ‘¤) Ð´Ð»Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ…Ð»ÐµÐ±Ð½Ñ‹Ðµ ÐºÑ€Ð¾ÑˆÐºÐ¸ Ð´Ð»Ñ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸
3. ÐšÐ»Ð¸ÐºÐ°Ð¹Ñ‚Ðµ Ð½Ð° wiki-ÑÑÑ‹Ð»ÐºÐ¸ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° Ð¼ÐµÐ¶Ð´Ñƒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°Ð¼Ð¸
4. ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ð¹Ñ‚Ðµ Ñ‚ÐµÐ¼Ñƒ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°Ñ‚ÐµÐ»Ñ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ…

---

*Ð­Ñ‚Ð¾ Ð´ÐµÐ¼Ð¾-ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸. Ð’ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ð¸ Ð·Ð´ÐµÑÑŒ Ð±ÑƒÐ´ÑƒÑ‚ Ð²Ð°ÑˆÐ¸ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸.*`,

  'ÐŸÑ€Ð¸Ð¼ÐµÑ€%20ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹.md': `# ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹

Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ wiki-ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð´Ð»Ñ Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸.

## ÐŸÐ¾Ð´Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº

Ð—Ð´ÐµÑÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð»ÑŽÐ±Ð¾Ð¹ markdown ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚:

- Ð¡Ð¿Ð¸ÑÐºÐ¸
- **Ð–Ð¸Ñ€Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚**
- *ÐšÑƒÑ€ÑÐ¸Ð²*
- \`ÐºÐ¾Ð´\`

## Ð¡ÑÑ‹Ð»ÐºÐ¸

- [[index|Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð½Ð° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ]]
- [[Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ]]

## ÐšÐ¾Ð´

\`\`\`javascript
function example() {
  console.log("Hello, World!");
}
\`\`\`

---

*Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¾ Ð´Ð»Ñ Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸*`,

  'Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ.md': `# Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

## Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

### 1. ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Markdown
- ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸ÑÐ° Markdown
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ñ€ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³ ÑÑÑ‹Ð»Ð¾Ðº
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÐºÐ¾Ð´Ð° Ð¸ Ð±Ð»Ð¾ÐºÐ¾Ð²

### 2. Wiki-ÑÑÑ‹Ð»ÐºÐ¸
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸ÑÐ° \`[[Ð¡ÑÑ‹Ð»ÐºÐ°]]\`
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°Ð¼Ð¸
- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð² Ð¸Ð¼ÐµÐ½Ð°Ñ…

### 3. Ð¢ÐµÐ¼Ñ‹
- Ð¡Ð²ÐµÑ‚Ð»Ð°Ñ Ð¸ Ñ‚ÐµÐ¼Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð°
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð²Ñ‹Ð±Ð¾Ñ€Ð°
- ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ†Ð²ÐµÑ‚Ð° Ð´Ð»Ñ ÑÑÑ‹Ð»Ð¾Ðº

### 4. ÐÐ°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ñ
- Ð¥Ð»ÐµÐ±Ð½Ñ‹Ðµ ÐºÑ€Ð¾ÑˆÐºÐ¸ Ð´Ð»Ñ Ð¸ÐµÑ€Ð°Ñ€Ñ…Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸
- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
- Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ð³Ð»Ð°Ð²Ð½ÑƒÑŽ

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
2. Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ URL Ð²Ð°ÑˆÐµÐ³Ð¾ WebDAV ÑÐµÑ€Ð²ÐµÑ€Ð°
3. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑƒÑ‡ÐµÑ‚Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
4. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

---

*Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒÑÑ Ð¿Ð¾ Ð¼ÐµÑ€Ðµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°*`,

  'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸.md': `# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

## ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

### WebDAV URL
Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ URL Ð²Ð°ÑˆÐµÐ³Ð¾ WebDAV ÑÐµÑ€Ð²ÐµÑ€Ð°. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
\`https://example.com/webdav/bookmarks/\`

### ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ
- **Username**: Ð’Ð°ÑˆÐµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
- **Password**: Ð’Ð°Ñˆ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ

### Ð¢ÐµÐ¼Ð°
- **Ð¡Ð²ÐµÑ‚Ð»Ð°Ñ**: ÐšÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð±ÐµÐ»Ñ‹Ð¹ Ñ„Ð¾Ð½
- **Ð¢ÐµÐ¼Ð½Ð°Ñ**: Ð¡Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ Ñ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ

## ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ URL

- \`file://C:/Users/username/bookmarks\` - Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð¿Ð°Ð¿ÐºÐ°
- \`https://server.com/webdav/bookmarks/\` - ÑƒÐ´Ð°Ð»ÐµÐ½Ð½Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€
- \`https://username:password@server.com/webdav/\` - Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ

- ÐŸÐ°Ñ€Ð¾Ð»Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
- Ð¡Ð¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ñ Ñ WebDAV ÑÐµÑ€Ð²ÐµÑ€Ð°Ð¼Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‰ÐµÐ½Ñ‹
- Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ñ‚Ñ€ÐµÑ‚ÑŒÐ¸Ð¼ Ð»Ð¸Ñ†Ð°Ð¼

---

*ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸*`
};

// Mock fetch for file:// URLs
const originalFetch = window.fetch;
window.fetch = function(url, options = {}) {
  // Check if it's a file:// URL
  if (url.startsWith('file://')) {
    // Extract filename from URL
    const urlParts = url.split('/');
    const filename = urlParts[urlParts.length - 1];
    
    // Return mock content
    if (mockFiles[filename]) {
      return Promise.resolve({
        ok: true,
        text: () => Promise.resolve(mockFiles[filename]),
        status: 200
      });
    } else {
      return Promise.resolve({
        ok: false,
        text: () => Promise.resolve(`File not found: ${filename}`),
        status: 404
      });
    }
  }
  
  // For other URLs, use original fetch
  return originalFetch(url, options);
};
